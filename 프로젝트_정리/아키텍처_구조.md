# 플랜잇 아키텍처 구조

![아키텍처구조](https://github.com/JL2P/Project/blob/master/img/아키텍처구조.png)



### 1. MSA 서비스

* 모든 서비스는 MSA로 나누어 각각 독립적으로 동작할 수 있는 형태로 배포된다.
* 서비스는 REST API로 개발 되었다.
* 데이터베이스 또한 각각 서비스마다 다르게 연결되도록 설계하였다.



### 2. 서비스 인증처리

* MSA로  서비스를 나누었을때, 사용자가 로그인했는지에 대한 정보들을 각 서비스 마다 세션으로 관리하기에 어려움이 있어 JWT를 사용하여 이를 해결하였다.
* Auth-Service는 플랜잇 서비스의 OAuth2.0인증 서버를 구현한 것으로, 플랜잇 서비스의 사용자인지를 판단하여 JWT를 발급하고 모든 api서비스에 대한 요청은 JWT를 통하여 인증을 하도록 설계하였다.



### 3. 배포환경

* aws의 EKS서비스를 사용하여 클러스터를 구축하였다.
* 1개의 마스터노드와 기본 3개의 워커노드로 구성하였고, 트래픽을 생각하여 노드가 최대 10개까지 스케일링 될 수 있도록 설정하였다. 
* 모든 서비스들은 노드에 Pod형태로 배포되어진다.